<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="{{ .Site.Params.description }}">
    <title>{{ if .IsHome }}{{ .Site.Title }}{{ else }}{{ .Title }} | {{ .Site.Title }}{{ end }}</title>

    <!-- Google Fonts - Architects Daughter for sketchnote aesthetic -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Architects+Daughter&display=swap" rel="stylesheet">

    <!-- Hugo Asset Pipeline for CSS -->
    {{ $mainCSS := resources.Get "css/main.css" }}
    {{ $wobbleCSS := resources.Get "css/wobble.css" }}
    {{ $cardsCSS := resources.Get "css/cards.css" }}
    {{ $graphCSS := resources.Get "css/graph.css" }}
    {{ $css := slice $mainCSS $wobbleCSS $cardsCSS $graphCSS | resources.Concat "css/bundle.css" | resources.Minify }}
    <link rel="stylesheet" href="{{ $css.Permalink }}">

    <!-- SVG Filter Definitions for Wobble Effect -->
    <svg style="position: absolute; width: 0; height: 0; overflow: hidden;">
      <defs>
        <!-- Main wobble filter for borders and text -->
        <filter id="wobble">
          <feTurbulence baseFrequency="0.02" numOctaves="3" result="noise" seed="2"/>
          <feDisplacementMap in="SourceGraphic" in2="noise" scale="2.5" xChannelSelector="R" yChannelSelector="G"/>
        </filter>

        <!-- Subtle wobble for text -->
        <filter id="wobble-text">
          <feTurbulence baseFrequency="0.015" numOctaves="2" result="noise" seed="5"/>
          <feDisplacementMap in="SourceGraphic" in2="noise" scale="0.8" xChannelSelector="R" yChannelSelector="G"/>
        </filter>

        <!-- Strong wobble for arrows and illustrations -->
        <filter id="wobble-strong">
          <feTurbulence baseFrequency="0.03" numOctaves="4" result="noise" seed="10"/>
          <feDisplacementMap in="SourceGraphic" in2="noise" scale="4" xChannelSelector="R" yChannelSelector="G"/>
        </filter>
      </defs>
    </svg>
</head>
